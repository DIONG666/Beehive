# Beehive: An Efficient Multi-Agent Research System

èœ‚å·¢ï¼ˆBeehiveï¼‰æ˜¯ä¸€ä¸ªåŸºäºå¤šæ™ºèƒ½ä½“åä½œä¸å¤šè½®é«˜æ•ˆæ¨ç†æ£€ç´¢çš„æ·±åº¦ç ”ç©¶ç³»ç»Ÿã€‚ç³»ç»Ÿç”±è´Ÿè´£ä»»åŠ¡è§„åˆ’ã€æ¨ç†åæ€ã€ç­”æ¡ˆç”Ÿæˆçš„ä¸»æ™ºèƒ½ä½“Plannerï¼Œä»¥åŠè´Ÿè´£å·¥å…·è°ƒç”¨ã€çŸ¥è¯†æ£€ç´¢ã€å†…å®¹æ€»ç»“ã€å†…å­˜ç®¡ç†çš„å¤šä¸ªå­æ™ºèƒ½ä½“Workerç»„æˆã€‚å½“ç”¨æˆ·æäº¤æŸ¥è¯¢è¯·æ±‚åï¼ŒPlanneré¦–å…ˆä»”ç»†åˆ†æç”¨æˆ·éœ€æ±‚ï¼Œå¹¶å°†åŸæŸ¥è¯¢åˆ†è§£æˆè‹¥å¹²ç‹¬ç«‹çš„å­æŸ¥è¯¢ã€‚éšåç³»ç»Ÿå°†åˆ›å»ºç›¸åº”æ•°é‡çš„Workerå¤„ç†å¯¹åº”çš„å­æŸ¥è¯¢ï¼ŒWorkerå°†åœ¨ç³»ç»ŸçŸ¥è¯†åº“å’Œç½‘ç»œä¸­æœç´¢ç›¸å…³çŸ¥è¯†ï¼Œå¹¶æ€»ç»“æç‚¼å‡ºä¸åŸæŸ¥è¯¢æœ€ç›¸å…³çš„ä¿¡æ¯äº¤ä»˜ç»™Plannerã€‚Planneréšåæ ¹æ®è‡ªèº«çŸ¥è¯†ä»¥åŠç°æœ‰ä¿¡æ¯åˆ†æå½“å‰æ˜¯å¦èƒ½å¤Ÿå›ç­”åŸæŸ¥è¯¢ï¼Œè‹¥å¯ä»¥å›ç­”ï¼Œåˆ™ç”Ÿæˆæœ€ç»ˆç­”æ¡ˆå¹¶ç»™å‡ºæ¨ç†ä¾æ®ä¸ä¿¡æ¯æ¥æºï¼›è‹¥ä¸èƒ½å›ç­”ï¼Œåˆ™æ¨ç†åˆ†æå½“å‰è¿˜ç¼ºå°‘å“ªäº›æ–¹é¢çš„ä¿¡æ¯ï¼Œå¹¶ç”Ÿæˆæ–°çš„å­æŸ¥è¯¢åˆ†é…ç»™Workerå¤„ç†ã€‚ç³»ç»Ÿå°†é‡å¤ä¸Šè¿°è¿‡ç¨‹ç›´è‡³å¾—åˆ°æœ€ç»ˆç­”æ¡ˆæˆ–è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œè‹¥è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œç³»ç»Ÿå°†æ ¹æ®å½“å‰è·å¾—çš„ä¿¡æ¯å¼ºåˆ¶ç”Ÿæˆå›ç­”ã€‚

![ç³»ç»Ÿæ¶æ„](assets/architecture.png)

## ğŸš€ æ ¸å¿ƒç‰¹æ€§

- **ğŸ§  æ™ºèƒ½æ¨ç†**: åŸºäºDeepSeek-R1æ¨¡å‹çš„å¤šè½®æ¨ç†å¾ªç¯
- **ğŸ” å¤šæºæ£€ç´¢**: çŸ¥è¯†åº“æ£€ç´¢ + ç½‘ç»œæœç´¢çš„æ··åˆæ£€ç´¢ç­–ç•¥  
- **ğŸ“ æ™ºèƒ½æ‘˜è¦**: æ”¯æŒåˆ†å—å¹¶è¡Œå¤„ç†çš„é•¿æ–‡æ¡£æ‘˜è¦
- **ğŸ”„ è‡ªé€‚åº”è·¯ç”±**: æ ¹æ®ç›¸å…³æ€§è‡ªåŠ¨é€‰æ‹©æœ€ä½³ä¿¡æ¯æº
- **ğŸ’¾ è®°å¿†ç®¡ç†**: æŒä¹…åŒ–å­˜å‚¨æ¨ç†å†å²å’Œä¸Šä¸‹æ–‡

## ğŸ—ï¸ ä»£ç ç»“æ„

```
Multi-Agent-DeepResearch/
â”œâ”€â”€ main.py                    # ç³»ç»Ÿå…¥å£å’Œä¸»æ§åˆ¶å™¨
â”œâ”€â”€ config.py                  # ç³»ç»Ÿé…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt           # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ setup.sh                   # ä¸€é”®å®‰è£…è„šæœ¬
â”œâ”€â”€ evaluate.py               # FRAMESåŸºå‡†è¯„æµ‹è„šæœ¬
â”‚
â”œâ”€â”€ agent/                     # ä¸»æ™ºèƒ½ä½“æ¨¡å—
â”‚   â””â”€â”€ main_agent.py         # æ ¸å¿ƒæ¨ç†å¾ªç¯æ§åˆ¶å™¨
â”‚
â”œâ”€â”€ planner/                   # æ¨ç†è§„åˆ’æ¨¡å—
â”‚   â”œâ”€â”€ planner.py            # DeepSeekæ¨ç†è°ƒç”¨å™¨
â”‚   â””â”€â”€ prompt_templates.py   # æ¨ç†æç¤ºæ¨¡æ¿
â”‚
â”œâ”€â”€ tools/                     # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ search_tool.py        # çŸ¥è¯†åº“æœç´¢å·¥å…·
â”‚   â”œâ”€â”€ web_search_tool.py    # ç½‘ç»œæœç´¢å·¥å…·
â”‚   â””â”€â”€ summarizer_tool.py    # æ™ºèƒ½æ‘˜è¦å·¥å…·
â”‚
â”œâ”€â”€ retriever/                 # æ£€ç´¢ç³»ç»Ÿ
â”‚   â”œâ”€â”€ embedder.py           # æ–‡æœ¬åµŒå…¥æœåŠ¡
â”‚   â”œâ”€â”€ build_index.py        # ç´¢å¼•æ„å»ºå·¥å…·
â”‚   â””â”€â”€ retriever.py          # å‘é‡æ£€ç´¢å™¨
â”‚
â”œâ”€â”€ reranker/                  # é‡æ’åºæ¨¡å—
â”‚   â””â”€â”€ reranker.py           # ç»“æœé‡æ’åºå™¨
â”‚
â”œâ”€â”€ memory/                    # è®°å¿†ç®¡ç†
â”‚   â””â”€â”€ memory_manager.py     # å¯¹è¯å†å²ç®¡ç†å™¨
â”‚
â””â”€â”€ data/                      # æ•°æ®ç›®å½•
    â”œâ”€â”€ knowledge_base/        # çŸ¥è¯†åº“æ–‡æ¡£
    â”œâ”€â”€ index/                 # FAISSå‘é‡ç´¢å¼•
    â”œâ”€â”€ memory_cache/          # è®°å¿†ç¼“å­˜
    â””â”€â”€ evaluation_results/    # è¯„æµ‹ç»“æœ
```

## âš¡ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/DIONG666/Beehive.git
cd Multi-Agent-DeepResearch

# è®¾ç½®APIå¯†é’¥ï¼ˆconfig.pyä¸­å·²è®¾ç½®é»˜è®¤å¯†é’¥ï¼Œä»…ä¾›é¡¹ç›®è€ƒæ ¸æ—¶ä½¿ç”¨ï¼‰
export DEEPSEEK_API_KEY="your_deepseek_api_key"
export JINA_API_KEY="your_jina_api_key" 

# ä¸€é”®å®‰è£…
bash setup.sh
```

### 2. åŸºç¡€ä½¿ç”¨

```bash
# å•æ¬¡æŸ¥è¯¢
python main.py --query "äººå·¥æ™ºèƒ½çš„æœ€æ–°å‘å±•è¶‹åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ"

# äº¤äº’æ¨¡å¼
python main.py --mode interactive

# åŒ…å«æŒ‡å®šé“¾æ¥çš„æŸ¥è¯¢
python main.py --query "è¯·åˆ†æ https://en.wikipedia.org/wiki/Machine_learning è¿™ç¯‡æ–‡ç« çš„ä¸»è¦å†…å®¹"
```

### 3. ç³»ç»Ÿè¯„æµ‹

```bash
# è¿è¡ŒFRAMESåŸºå‡†è¯„æµ‹
python evaluate.py
```

## ğŸ”§ ç³»ç»Ÿé…ç½®

åœ¨ `config.py` ä¸­å¯ä»¥è°ƒæ•´ä»¥ä¸‹å‚æ•°ï¼š

### APIé…ç½®
```python
DEEPSEEK_API_KEY = "your_api_key"      # DeepSeek APIå¯†é’¥ (å¿…éœ€)
JINA_API_KEY = "your_jina_key"         # Jina APIå¯†é’¥ (å¯é€‰)
```

### æ¨ç†å‚æ•°
```python
MAX_ITERATIONS = 3                     # æœ€å¤§æ¨ç†è½®æ¬¡
MAX_CONTEXT_LENGTH = 8192             # æœ€å¤§ä¸Šä¸‹æ–‡é•¿åº¦
TEMPERATURE = 0.7                      # æ™ºèƒ½ä½“ç”Ÿæˆæ¸©åº¦
```

### æ£€ç´¢å‚æ•°
```python
TOP_K = 20                            # æ£€ç´¢æ–‡æ¡£æ•°é‡
RERANK_TOP_K = 5                      # é‡æ’åºåä¿ç•™æ•°é‡
EMBEDDING_DIM = 2048                  # åµŒå…¥ç»´åº¦
```

## ğŸ“Š ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: ç®€å•é—®ç­”
```python
system = MultiAgentResearchSystem()
result = system.research_query("ä»€ä¹ˆæ˜¯é‡å­è®¡ç®—ï¼Ÿ")

print(result['answer'])      # ç­”æ¡ˆå†…å®¹
print(result['citations'])   # å¼•ç”¨æ¥æº
```

### ç¤ºä¾‹2: é“¾æ¥åˆ†æ
```python
query = """
è¯·åˆ†æä»¥ä¸‹æ–‡ç« çš„ä¸»è¦è§‚ç‚¹ï¼š
https://en.wikipedia.org/wiki/Artificial_intelligence
https://en.wikipedia.org/wiki/Machine_learning
"""

result = system.research_query(query)
# ç³»ç»Ÿä¼šè‡ªåŠ¨æå–é“¾æ¥å†…å®¹å¹¶è¿›è¡Œç»¼åˆåˆ†æ
```

### ç¤ºä¾‹3: äº¤äº’å¼ç ”ç©¶
```python
# å¯åŠ¨äº¤äº’æ¨¡å¼
python main.py --mode interactive

# ç³»ç»Ÿä¼šæä¾›æŒç»­çš„å¯¹è¯ç•Œé¢
> è¯·ä»‹ç»æ·±åº¦å­¦ä¹ çš„å‘å±•å†ç¨‹
> å®ƒä¸ä¼ ç»Ÿæœºå™¨å­¦ä¹ çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
> è¯·æ¨èä¸€äº›å­¦ä¹ èµ„æº
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®å’ŒæœåŠ¡ï¼š

- [DeepSeek](https://www.deepseek.com/) - å¼ºå¤§çš„æ¨ç†è¯­è¨€æ¨¡å‹
- [Jina AI](https://jina.ai/) - é«˜è´¨é‡çš„åµŒå…¥å’Œé‡æ’åºæœåŠ¡  
- [FAISS](https://github.com/facebookresearch/faiss) - é«˜æ•ˆçš„å‘é‡ç›¸ä¼¼åº¦æœç´¢
- [FRAMES](https://huggingface.co/datasets/google/frames-benchmark) - å¤šæ­¥æ¨ç†è¯„æµ‹åŸºå‡†
